{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bf531963_2c517cb6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-03-18T10:33:08Z",
      "side": 1,
      "message": "Tested on a bidi amp, it works. I saw one huuuuge delay, but \"only during one boot\" and not during another, so I\u0027m going to profile it later on:\n \nMar 18 10:23:52 sdn-bidi-cplus1572-PGCL25033 kernel: at24 2-0051: supply vcc not found, using dummy regulator\nMar 18 10:23:55 sdn-bidi-cplus1572-PGCL25033 sysrepo[260]: EV ORIGIN: SHM event \"rpc\" ID 217 processing timed out.\nMar 18 10:23:55 sdn-bidi-cplus1572-PGCL25033 sysrepo[260]: EV ORIGIN: \"/sysrepo-ietf-alarms:create-or-update-alarm\" \"rpc\" ID 217 priority 0 failed (Timeout expired).\nMar 18 10:23:55 sdn-bidi-cplus1572-PGCL25033 veliad-hardware[260]: terminate called after throwing an instance of \u0027sysrepo::ErrorWithCode\u0027\nMar 18 10:23:55 sdn-bidi-cplus1572-PGCL25033 veliad-hardware[260]:   what():  Couldn\u0027t send RPC: SR_ERR_TIME_OUT\nMar 18 10:23:55 sdn-bidi-cplus1572-PGCL25033 veliad-hardware[260]:  EV ORIGIN: SHM event \"rpc\" ID 217 processing timed out. (SR_ERR_TIME_OUT)\nMar 18 10:23:56 sdn-bidi-cplus1572-PGCL25033 systemd-coredump[358]: Process 260 (veliad-hardware) of user 0 dumped core.\n                                                                    \n                                                                    Module libcrypt.so.2 without build-id.\n                                                                    Module libnss_systemd.so.2 without build-id.\n                                                                    Module libatomic.so.1 without build-id.\n                                                                    Module libxxhash.so.0 without build-id.\n                                                                    Module libpcre2-8.so.0 without build-id.\n                                                                    Module libcap.so.2 without build-id.\n                                                                    Module ld-linux-armhf.so.3 without build-id.\n                                                                    Module libc.so.6 without build-id.\n                                                                    Module libgcc_s.so.1 without build-id.\n                                                                    Module libm.so.6 without build-id.\n                                                                    Module libstdc++.so.6 without build-id.\n                                                                    Module libsysrepo-cpp.so.5 without build-id.\n                                                                    Module libsysrepo.so.7 without build-id.\n                                                                    Module libyang-cpp.so.4 without build-id.\n                                                                    Module libyang.so.3 without build-id.\n                                                                    Module libfmt.so.11 without build-id.\n                                                                    Module libsystemd.so.0 without build-id.\n                                                                    Module libspdlog.so.1.15 without build-id.\n                                                                    Module libdocopt.so.0 without build-id.\n                                                                    Module veliad-hardware without build-id.\n                                                                    Stack trace of thread 351:\n                                                                    #0  0x00000000b689acc4 n/a (libc.so.6 + 0x80cc4)\n                                                                    ELF object binary architecture: ARM\nMar 18 10:23:56 sdn-bidi-cplus1572-PGCL25033 systemd[1]: velia-hardware-g2.service: Main process exited, code\u003ddumped, status\u003d6/ABRT\nMar 18 10:23:56 sdn-bidi-cplus1572-PGCL25033 systemd[1]: velia-hardware-g2.service: Failed with result \u0027core-dump\u0027.\nMar 18 10:23:56 sdn-bidi-cplus1572-PGCL25033 sysrepo[254]: Connection with CID 6 is dead.\nMar 18 10:23:58 sdn-bidi-cplus1572-PGCL25033 main[338]: [PERFORMANCE][TOO_SLOW] pushInventory/applyChanges 5232ms\nMar 18 10:23:58 sdn-bidi-cplus1572-PGCL25033 main[338]: [PERFORMANCE][TOO_SLOW] void velia::alarms::pushInventory(sysrepo::Session, const std::vector\u003cAlarmInventoryEntry\u003e\u0026) 5350ms\nMar 18 10:24:00 sdn-bidi-cplus1572-PGCL25033 main[338]: [PERFORMANCE][TOO_SLOW] void velia::alarms::push(sysrepo::Session, const std::string\u0026, const std::string\u0026, const std::string\u0026, const std::string\u0026) 2001ms\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 sysrepo[257]: EV ORIGIN: SHM event \"done\" ID 221 processing timed out.\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 main[257]: [PERFORMANCE][TOO_SLOW] submitAlarm/applyChanges 10157ms\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 main[257]: [PERFORMANCE][TOO_SLOW] sysrepo::ErrorCode alarms::Daemon::submitAlarm(sysrepo::Session, const libyang::DataNode\u0026) 10178ms\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 main[257]: [PERFORMANCE][TOO_SLOW] /ietf-alarms:alarms/alarm-inventory 9983ms\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 sysrepo[257]: Invalid arguments for function \"sr_session_push_error_data\".\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 sysrepo[257]: Invalid arguments for function \"sr_session_push_error_data\".\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 sysrepo[257]: Invalid arguments for function \"sr_session_push_error_data\".\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 sysrepo[257]: Invalid arguments for function \"sr_session_push_error_data\".\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 sysrepo[257]: Invalid arguments for function \"sr_session_push_error_data\".\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 main[257]: No alarm inventory entry for [alarm-type-id\u003d\u0027velia-alarms:sensor-low-value-alarm\u0027][alarm-type-qualifier\u003d\u0027\u0027]\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 main[338]: Fatal error in main: sysrepo::ErrorWithCode\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 main[338]: Couldn\u0027t send RPC: SR_ERR_TIME_OUT\n                                                         EV ORIGIN: SHM event \"rpc\" ID 526 processing timed out. (SR_ERR_TIME_OUT)\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 veliad-health[338]: terminate called after throwing an instance of \u0027sysrepo::ErrorWithCode\u0027\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 veliad-health[338]:   what():  Couldn\u0027t send RPC: SR_ERR_TIME_OUT\nMar 18 10:24:03 sdn-bidi-cplus1572-PGCL25033 veliad-health[338]:  EV ORIGIN: SHM event \"rpc\" ID 526 processing timed out. (SR_ERR_TIME_OUT)\nMar 18 10:24:04 sdn-bidi-cplus1572-PGCL25033 systemd-coredump[368]: Process 338 (veliad-health) of user 0 dumped core.\n                                                                    \n                                                                    Module libcrypt.so.2 without build-id.\n                                                                    Module libnss_systemd.so.2 without build-id.\n                                                                    Module libxxhash.so.0 without build-id.\n                                                                    Module libpcre2-8.so.0 without build-id.\n                                                                    Module libatomic.so.1 without build-id.\n                                                                    Module libcap.so.2 without build-id.\n                                                                    Module ld-linux-armhf.so.3 without build-id.\n                                                                    Module libc.so.6 without build-id.\n                                                                    Module libgcc_s.so.1 without build-id.\n                                                                    Module libm.so.6 without build-id.\n                                                                    Module libstdc++.so.6 without build-id.\n                                                                    Module libyang-cpp.so.4 without build-id.\n                                                                    Module libyang.so.3 without build-id.\n                                                                    Module libsdbus-c++.so.1 without build-id.\n                                                                    Module libfmt.so.11 without build-id.\n                                                                    Module libsysrepo-cpp.so.5 without build-id.\n                                                                    Module libsysrepo.so.7 without build-id.\n                                                                    Module libsystemd.so.0 without build-id.\n                                                                    Module libspdlog.so.1.15 without build-id.\n                                                                    Module libdocopt.so.0 without build-id.\n                                                                    Module veliad-health without build-id.\n                                                                    Stack trace of thread 338:\n                                                                    #0  0x00000000b67a2cc4 n/a (libc.so.6 + 0x80cc4)\n                                                                    ELF object binary architecture: ARM\nMar 18 10:24:04 sdn-bidi-cplus1572-PGCL25033 systemd[1]: velia-health.service: Main process exited, code\u003ddumped, status\u003d6/ABRT\nMar 18 10:24:04 sdn-bidi-cplus1572-PGCL25033 systemd[1]: velia-health.service: Failed with result \u0027core-dump\u0027.\n\n",
      "revId": "6f63a7003978e9dd69177c28a99f0fdcd014fd81",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    }
  ]
}